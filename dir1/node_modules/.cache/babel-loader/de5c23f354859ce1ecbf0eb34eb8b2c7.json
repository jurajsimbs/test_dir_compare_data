{"remainingRequest":"C:\\work\\bi-admin-vue-new\\node_modules\\thread-loader\\dist\\cjs.js!C:\\work\\bi-admin-vue-new\\node_modules\\babel-loader\\lib\\index.js!C:\\work\\bi-admin-vue-new\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\work\\bi-admin-vue-new\\src\\plugins\\adminApplication.js","dependencies":[{"path":"C:\\work\\bi-admin-vue-new\\src\\plugins\\adminApplication.js","mtime":1552754725289},{"path":"C:\\work\\bi-admin-vue-new\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\bi-admin-vue-new\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\bi-admin-vue-new\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\work\\bi-admin-vue-new\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _regeneratorRuntime from \"C:\\\\work\\\\bi-admin-vue-new\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport VeeValidate from 'vee-validate';\nimport VueI18n from 'vue-i18n';\nimport Vuetify from 'vuetify';\nimport Sidebar from '../components/application/Sidebar.vue';\nimport languages from '../const/languageCodes';\nimport events from './../app/events';\nimport RouterBuilder from './../app/router';\nimport Themes from './../app/theme';\nimport AdminApplication from './../components/App.vue';\nimport SinglePageApplication from './../components/application/SinglePage.vue';\nimport ContentEditor from './../components/editor/contentEditor.vue';\nimport Editor from './../components/editor/editor.vue';\nimport ContentPreview from './../components/editor/preview.vue';\nimport SourceEditor from './../components/editor/sourceEditor.vue';\nimport AlternativeSourceEditor from './../components/editor/alternateSourceEditor';\nimport HomePage from './../components/pages/home/Home.vue';\nimport SimpleHomeWidget from './../components/pages/home/SimpleHomeWidget.vue';\nimport PageWithHeader from './../components/pages/PageWithHeader.vue';\nimport PageWithHeaderAndActions from './../components/pages/PageWithHeaderAndActions.vue';\nimport SimplePage from './../components/pages/SimplePage.vue';\nimport SimpleTableCellBoolWidget from './../components/table/cellWidget/bool';\nimport SimpleTableCellDateWidget from './../components/table/cellWidget/date.vue';\nimport SimpleTableCellSizeWidget from './../components/table/cellWidget/size.vue';\nimport SimpleTableCellTextWidget from './../components/table/cellWidget/text.vue';\nimport SimpleTableFilterTextFilter from './../components/table/filter/SimpleTableFilterTextFilter';\nimport SimpleTableFilterDropdownFilter from './../components/table/filter/SimpleTableFilterDropdownFilter';\nimport SimpleTableIconRowActionWidget from './../components/table/rowActionWidget/icon.vue';\nimport SimpleTableLinkRowActionWidget from './../components/table/rowActionWidget/link.vue';\nimport SimpleTableMoveItemRowActionWidget from './../components/table/rowActionWidget/moveItem.vue';\nimport SimpleTablePublishRowActionWidget from './../components/table/rowActionWidget/publish.vue';\nimport SimpleTable from './../components/table/simpleTable.vue';\nimport SimpleTableFilter from './../components/table/simpleTableFilter';\nimport ApplicationError from './../error/applicationError';\nimport StoreBuilder from './../store/builder';\nimport SettingsStoreModule from './../store/modules/settings';\nimport LanguagesStoreModule from './../store/modules/languages';\nimport LanguagesResource from './../service/languages';\nimport UserStoreModule from './../store/modules/user';\nimport DateUtil from './../util/date';\nimport Asset from './../components/asset/Asset.vue';\nvar dateUtil = new DateUtil();\n\nvar _default =\n/*#__PURE__*/\nfunction () {\n  function _default() {\n    _classCallCheck(this, _default);\n  }\n\n  _createClass(_default, null, [{\n    key: \"install\",\n    value: function install(Vue, options) {\n      Vue.use(Vuetify, {\n        theme: options.theme || Themes.BLUE\n      });\n      Vue.use(VeeValidate);\n      var stores = {\n        user: UserStoreModule.build(Vue, options.userResource, options.authResource),\n        settings: SettingsStoreModule.build(Vue, options.settingsResource),\n        languages: LanguagesStoreModule.build(Vue, options.languagesResource || LanguagesResource.build(Vue, {\n          uri: 'lang'\n        }))\n      };\n\n      if (options.stores) {\n        stores = Object.assign(stores, options.stores);\n      }\n\n      var store = StoreBuilder.build(_objectSpread({}, stores), options.appManager, Vue);\n      var translations = Object.assign(_defineProperty({}, languages.ENGLISH, {}), options.translations);\n      var defaultLanguageCode = languages.ENGLISH;\n\n      if (options.defaultLanguageCode) {\n        defaultLanguageCode = options.defaultLanguageCode;\n      }\n\n      Vue.use(VueI18n);\n      var i18n = new VueI18n({\n        locale: localStorage.getItem('locale') || defaultLanguageCode,\n        fallbackLocale: languages.ENGLISH,\n        messages: translations,\n        silentTranslationWarn: options.silentTranslationWarn || true\n      });\n      var router = RouterBuilder.build(options.appManager, Vue);\n      options.appManager.setRouter(router);\n      dateUtil.appManager = options.appManager; //const dateUtil = new DateUtil(options.appManager);\n\n      Vue.getTranslations = function () {\n        return translations;\n      };\n\n      Vue.getI18n = function () {\n        return i18n;\n      };\n\n      Vue.getAppStore = function () {\n        return store;\n      };\n\n      Vue.getAppRouter = function () {\n        return router;\n      };\n\n      Vue.getValidator = function () {\n        return VeeValidate;\n      };\n\n      Vue.mixin({\n        created: function created() {\n          if (!options.appManager) {\n            throw new ApplicationError('you must define application manager in options.appManager');\n          }\n\n          if (!options.userResource) {\n            throw new ApplicationError('you must define user resource (vue-resource) in options.userResource');\n          }\n\n          if (!options.settingsResource) {\n            throw new ApplicationError('you must define settings resource (vue-resource) in options.settingsResource');\n          }\n\n          this.appManager = options.appManager;\n          this.userResource = options.userResource;\n          this.settingsResource = options.settingsResource;\n          this.adminPanelImageUrl = options.adminPanelImageUrl;\n          this.utils = {\n            date: dateUtil\n          };\n        },\n        methods: {\n          confirm: function () {\n            var _confirm = _asyncToGenerator(\n            /*#__PURE__*/\n            _regeneratorRuntime.mark(function _callee(message, options) {\n              var _this = this;\n\n              return _regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      return _context.abrupt(\"return\", new Promise(function (resolve) {\n                        _this.appManager.$emit(events.CONFIRMATION.OPEN, {\n                          message: message\n                        });\n\n                        _this.appManager.$once(events.CONFIRMATION.CLOSE, function (evt) {\n                          return resolve(evt.result);\n                        });\n                      }));\n\n                    case 1:\n                    case \"end\":\n                      return _context.stop();\n                  }\n                }\n              }, _callee);\n            }));\n\n            function confirm(_x, _x2) {\n              return _confirm.apply(this, arguments);\n            }\n\n            return confirm;\n          }(),\n          getVue: function getVue() {\n            return Vue;\n          },\n          getActiveLanguageCodes: function getActiveLanguageCodes() {\n            return Object.keys(translations);\n          },\n          goToPage: function goToPage(pageName, options) {\n            this.$router.push({\n              name: pageName,\n              params: options\n            });\n          },\n          $broadcast: function $broadcast(eventName, value) {\n            this.appManager.$emit(eventName, value);\n          },\n          $onBroadcast: function $onBroadcast(eventName, handler) {\n            this.appManager.$on(eventName, handler);\n          },\n          $offBroadcast: function $offBroadcast(eventName, handler) {\n            this.appManager.$off(eventName, handler);\n          }\n        }\n      });\n      Vue.component('Sidebar', Sidebar);\n      Vue.component('ContentEditor', ContentEditor);\n      Vue.component('Editor', Editor);\n      Vue.component('SourceEditor', SourceEditor);\n      Vue.component('ContentPreview', ContentPreview);\n      Vue.component('SinglePageApplication', SinglePageApplication);\n      Vue.component('HomePage', HomePage);\n      Vue.component('PageWithHeader', PageWithHeader);\n      Vue.component('AdminApplication', AdminApplication);\n      Vue.component('SimpleHomeWidget', SimpleHomeWidget);\n      Vue.component('SimplePage', SimplePage);\n      Vue.component('SimpleTable', SimpleTable);\n      Vue.component('SimpleTablePublishRowActionWidget', SimpleTablePublishRowActionWidget);\n      Vue.component('SimpleTableCellTextWidget', SimpleTableCellTextWidget);\n      Vue.component('SimpleTableCellDateWidget', SimpleTableCellDateWidget);\n      Vue.component('SimpleTableCellSizeWidget', SimpleTableCellSizeWidget);\n      Vue.component('SimpleTableCellBoolWidget', SimpleTableCellBoolWidget);\n      Vue.component('SimpleTableFilterDropdownFilter', SimpleTableFilterDropdownFilter);\n      Vue.component('SimpleTableMoveItemRowActionWidget', SimpleTableMoveItemRowActionWidget);\n      Vue.component('SimpleTableIconRowActionWidget', SimpleTableIconRowActionWidget);\n      Vue.component('SimpleTableLinkRowActionWidget', SimpleTableLinkRowActionWidget);\n      Vue.component('PageWithHeaderAndActions', PageWithHeaderAndActions);\n      Vue.component('SimpleTableFilterTextFilter', SimpleTableFilterTextFilter);\n      Vue.component('SimpleTableFilter', SimpleTableFilter);\n      Vue.component('Asset', Asset);\n      Vue.component('AlternativeSourceEditor', AlternativeSourceEditor);\n    }\n  }]);\n\n  return _default;\n}();\n\nexport { _default as default };",{"version":3,"sources":["C:\\work\\bi-admin-vue-new\\src\\plugins\\adminApplication.js"],"names":["VeeValidate","VueI18n","Vuetify","Sidebar","languages","events","RouterBuilder","Themes","AdminApplication","SinglePageApplication","ContentEditor","Editor","ContentPreview","SourceEditor","AlternativeSourceEditor","HomePage","SimpleHomeWidget","PageWithHeader","PageWithHeaderAndActions","SimplePage","SimpleTableCellBoolWidget","SimpleTableCellDateWidget","SimpleTableCellSizeWidget","SimpleTableCellTextWidget","SimpleTableFilterTextFilter","SimpleTableFilterDropdownFilter","SimpleTableIconRowActionWidget","SimpleTableLinkRowActionWidget","SimpleTableMoveItemRowActionWidget","SimpleTablePublishRowActionWidget","SimpleTable","SimpleTableFilter","ApplicationError","StoreBuilder","SettingsStoreModule","LanguagesStoreModule","LanguagesResource","UserStoreModule","DateUtil","Asset","dateUtil","Vue","options","use","theme","BLUE","stores","user","build","userResource","authResource","settings","settingsResource","languagesResource","uri","Object","assign","store","appManager","translations","ENGLISH","defaultLanguageCode","i18n","locale","localStorage","getItem","fallbackLocale","messages","silentTranslationWarn","router","setRouter","getTranslations","getI18n","getAppStore","getAppRouter","getValidator","mixin","created","adminPanelImageUrl","utils","date","methods","confirm","message","Promise","resolve","$emit","CONFIRMATION","OPEN","$once","CLOSE","evt","result","getVue","getActiveLanguageCodes","keys","goToPage","pageName","$router","push","name","params","$broadcast","eventName","value","$onBroadcast","handler","$on","$offBroadcast","$off","component"],"mappings":"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","sourcesContent":["import VeeValidate from 'vee-validate';\r\nimport VueI18n from 'vue-i18n';\r\nimport Vuetify from 'vuetify';\r\nimport Sidebar from '../components/application/Sidebar.vue';\r\nimport languages from '../const/languageCodes';\r\n\r\nimport events from './../app/events';\r\nimport RouterBuilder from './../app/router';\r\nimport Themes from './../app/theme';\r\nimport AdminApplication from './../components/App.vue';\r\nimport SinglePageApplication from './../components/application/SinglePage.vue';\r\nimport ContentEditor from './../components/editor/contentEditor.vue';\r\nimport Editor from './../components/editor/editor.vue';\r\nimport ContentPreview from './../components/editor/preview.vue';\r\nimport SourceEditor from './../components/editor/sourceEditor.vue';\r\nimport AlternativeSourceEditor from './../components/editor/alternateSourceEditor';\r\nimport HomePage from './../components/pages/home/Home.vue';\r\nimport SimpleHomeWidget from './../components/pages/home/SimpleHomeWidget.vue';\r\nimport PageWithHeader from './../components/pages/PageWithHeader.vue';\r\nimport PageWithHeaderAndActions from './../components/pages/PageWithHeaderAndActions.vue';\r\nimport SimplePage from './../components/pages/SimplePage.vue';\r\nimport SimpleTableCellBoolWidget from './../components/table/cellWidget/bool';\r\nimport SimpleTableCellDateWidget from './../components/table/cellWidget/date.vue';\r\nimport SimpleTableCellSizeWidget from './../components/table/cellWidget/size.vue';\r\nimport SimpleTableCellTextWidget from './../components/table/cellWidget/text.vue';\r\nimport SimpleTableFilterTextFilter from './../components/table/filter/SimpleTableFilterTextFilter';\r\nimport SimpleTableFilterDropdownFilter from './../components/table/filter/SimpleTableFilterDropdownFilter';\r\nimport SimpleTableIconRowActionWidget from './../components/table/rowActionWidget/icon.vue';\r\nimport SimpleTableLinkRowActionWidget from './../components/table/rowActionWidget/link.vue';\r\nimport SimpleTableMoveItemRowActionWidget from './../components/table/rowActionWidget/moveItem.vue';\r\nimport SimpleTablePublishRowActionWidget from './../components/table/rowActionWidget/publish.vue';\r\nimport SimpleTable from './../components/table/simpleTable.vue';\r\nimport SimpleTableFilter from './../components/table/simpleTableFilter';\r\nimport ApplicationError from './../error/applicationError';\r\nimport StoreBuilder from './../store/builder';\r\nimport SettingsStoreModule from './../store/modules/settings';\r\nimport LanguagesStoreModule from './../store/modules/languages';\r\nimport LanguagesResource from './../service/languages';\r\nimport UserStoreModule from './../store/modules/user';\r\nimport DateUtil from './../util/date';\r\nimport Asset from './../components/asset/Asset.vue';\r\n\r\nconst dateUtil = new DateUtil();\r\n\r\nexport default class {\r\n    static install(Vue, options) {\r\n\r\n        Vue.use(Vuetify, {\r\n            theme: options.theme || Themes.BLUE\r\n        });\r\n        Vue.use(VeeValidate);\r\n\r\n        let stores = {\r\n            user     : UserStoreModule.build(Vue, options.userResource, options.authResource),\r\n            settings : SettingsStoreModule.build(Vue, options.settingsResource),\r\n            languages: LanguagesStoreModule.build(Vue, options.languagesResource || LanguagesResource.build(Vue, {uri: 'lang'})),\r\n        };\r\n        if (options.stores) {\r\n            stores = Object.assign(stores, options.stores);\r\n        }\r\n\r\n        let store = StoreBuilder.build({\r\n            ...stores,\r\n        }, options.appManager, Vue);\r\n\r\n        let translations        = Object.assign({\r\n            [languages.ENGLISH]: {}\r\n        }, options.translations);\r\n        let defaultLanguageCode = languages.ENGLISH;\r\n        if (options.defaultLanguageCode) {\r\n            defaultLanguageCode = options.defaultLanguageCode;\r\n        }\r\n\r\n        Vue.use(VueI18n);\r\n        let i18n = new VueI18n({\r\n            locale               : localStorage.getItem('locale') || defaultLanguageCode,\r\n            fallbackLocale       : languages.ENGLISH,\r\n            messages             : translations,\r\n            silentTranslationWarn: options.silentTranslationWarn || true\r\n        });\r\n\r\n        let router = RouterBuilder.build(options.appManager, Vue);\r\n        options.appManager.setRouter(router);\r\n\r\n        dateUtil.appManager = options.appManager;\r\n        //const dateUtil = new DateUtil(options.appManager);\r\n\r\n        Vue.getTranslations = function() {\r\n            return translations;\r\n        };\r\n\r\n        Vue.getI18n = function() {\r\n            return i18n;\r\n        };\r\n\r\n        Vue.getAppStore = function() {\r\n            return store;\r\n        };\r\n\r\n        Vue.getAppRouter = function() {\r\n            return router;\r\n        };\r\n\r\n        Vue.getValidator = function() {\r\n            return VeeValidate;\r\n        }\r\n\r\n        Vue.mixin({\r\n            created: function() {\r\n                if (!options.appManager) {\r\n                    throw new ApplicationError('you must define application manager in options.appManager');\r\n                }\r\n                if (!options.userResource) {\r\n                    throw new ApplicationError('you must define user resource (vue-resource) in options.userResource');\r\n                }\r\n                if (!options.settingsResource) {\r\n                    throw new ApplicationError('you must define settings resource (vue-resource) in options.settingsResource');\r\n                }\r\n                this.appManager         = options.appManager;\r\n                this.userResource       = options.userResource;\r\n                this.settingsResource   = options.settingsResource;\r\n                this.adminPanelImageUrl = options.adminPanelImageUrl;\r\n                this.utils              = {\r\n                    date: dateUtil\r\n                };\r\n            },\r\n            methods: {\r\n                async confirm(message, options) {\r\n                    return new Promise((resolve) => {\r\n                        this.appManager.$emit(events.CONFIRMATION.OPEN, {message: message});\r\n                        this.appManager.$once(events.CONFIRMATION.CLOSE, (evt) => {\r\n                            return resolve(evt.result);\r\n                        });\r\n                    });\r\n                },\r\n                getVue() {\r\n                    return Vue;\r\n                },\r\n                getActiveLanguageCodes() {\r\n                    return Object.keys(translations);\r\n                },\r\n                goToPage(pageName, options) {\r\n                    this.$router.push({name: pageName, params: options});\r\n                },\r\n                $broadcast(eventName, value) {\r\n                    this.appManager.$emit(eventName, value);\r\n                },\r\n                $onBroadcast(eventName, handler) {\r\n                    this.appManager.$on(eventName, handler);\r\n                },\r\n                $offBroadcast(eventName, handler) {\r\n                    this.appManager.$off(eventName, handler);\r\n                }\r\n            }\r\n        });\r\n        Vue.component('Sidebar', Sidebar);\r\n        Vue.component('ContentEditor', ContentEditor);\r\n        Vue.component('Editor', Editor);\r\n        Vue.component('SourceEditor', SourceEditor);\r\n        Vue.component('ContentPreview', ContentPreview);\r\n        Vue.component('SinglePageApplication', SinglePageApplication);\r\n        Vue.component('HomePage', HomePage);\r\n        Vue.component('PageWithHeader', PageWithHeader);\r\n        Vue.component('AdminApplication', AdminApplication);\r\n        Vue.component('SimpleHomeWidget', SimpleHomeWidget);\r\n        Vue.component('SimplePage', SimplePage);\r\n        Vue.component('SimpleTable', SimpleTable);\r\n        Vue.component('SimpleTablePublishRowActionWidget', SimpleTablePublishRowActionWidget);\r\n        Vue.component('SimpleTableCellTextWidget', SimpleTableCellTextWidget);\r\n        Vue.component('SimpleTableCellDateWidget', SimpleTableCellDateWidget);\r\n        Vue.component('SimpleTableCellSizeWidget', SimpleTableCellSizeWidget);\r\n        Vue.component('SimpleTableCellBoolWidget', SimpleTableCellBoolWidget);\r\n        Vue.component('SimpleTableFilterDropdownFilter', SimpleTableFilterDropdownFilter);\r\n        Vue.component('SimpleTableMoveItemRowActionWidget', SimpleTableMoveItemRowActionWidget);\r\n        Vue.component('SimpleTableIconRowActionWidget', SimpleTableIconRowActionWidget);\r\n        Vue.component('SimpleTableLinkRowActionWidget', SimpleTableLinkRowActionWidget);\r\n        Vue.component('PageWithHeaderAndActions', PageWithHeaderAndActions);\r\n        Vue.component('SimpleTableFilterTextFilter', SimpleTableFilterTextFilter);\r\n        Vue.component('SimpleTableFilter', SimpleTableFilter);\r\n        Vue.component('Asset', Asset);\r\n        Vue.component('AlternativeSourceEditor', AlternativeSourceEditor);\r\n    }\r\n}"]}]}