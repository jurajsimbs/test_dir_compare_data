{"remainingRequest":"C:\\work\\bi-admin-vue-new\\node_modules\\thread-loader\\dist\\cjs.js!C:\\work\\bi-admin-vue-new\\node_modules\\babel-loader\\lib\\index.js!C:\\work\\bi-admin-vue-new\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\work\\bi-admin-vue-new\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\work\\bi-admin-vue-new\\src\\components\\editor\\alternateSourceEditor.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\work\\bi-admin-vue-new\\src\\components\\editor\\alternateSourceEditor.vue","mtime":1552754725223},{"path":"C:\\work\\bi-admin-vue-new\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\bi-admin-vue-new\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\bi-admin-vue-new\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\work\\bi-admin-vue-new\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\bi-admin-vue-new\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _Object$assign from \"C:\\\\work\\\\bi-admin-vue-new\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/object/assign\";\nimport \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport './ace.css';\nimport defaultToolbarButtons from './sourceEditor/defaultToolbarButtons';\nimport toolbar from './sourceEditor/toolbarButtons';\nimport AceEditor from './ace/index';\n\nrequire('brace/ext/language_tools');\n\nrequire('brace/mode/html');\n\nrequire('brace/mode/css');\n\nrequire('brace/mode/javascript');\n\nrequire('brace/mode/json');\n\nrequire('brace/theme/chrome');\n\nrequire('brace/ext/searchbox');\n\nrequire('brace/ext/statusbar');\n\nvar beautify = require('js-beautify');\n\nvar changeEventTimer = null;\nexport default {\n  components: {\n    AceEditor: AceEditor\n  },\n  computed: {\n    toolbarButtons: function toolbarButtons() {\n      return toolbar;\n    }\n  },\n  data: function data() {\n    return {\n      editorContent: '',\n      editorOptions: {},\n      editor: null\n    };\n  },\n  name: 'AlternateSourceEditor',\n  props: {\n    formatAfterMount: {\n      //autoformat inital value after editor mount (300ms after)\n      type: Boolean,\n      default: false\n    },\n    options: {\n      //extra editor options. goes directly to editor create function\n      type: Object,\n      default: function _default() {}\n    },\n    height: {\n      //editor height\n      type: [String, Number],\n      default: function _default() {\n        return 600;\n      }\n    },\n    language: {\n      //lang of editor. Supported languages: https://code.visualstudio.com/docs/languages/overview\n      type: String,\n      default: function _default() {\n        return \"html\";\n      }\n    },\n    value: {\n      //initial editor value\n      type: String\n    },\n    toolbar: {\n      type: Array,\n      default: function _default() {\n        return defaultToolbarButtons;\n      }\n    },\n    readOnly: {\n      type: Boolean,\n      default: false\n    }\n  },\n  watch: {\n    editorContent: function editorContent(newContentValue) {\n      var _this = this;\n\n      if (changeEventTimer) {\n        clearTimeout(changeEventTimer);\n      }\n\n      changeEventTimer = setTimeout(function () {\n        _this.$emit('input', newContentValue);\n      }, 500);\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    if (changeEventTimer) {\n      clearTimeout(changeEventTimer);\n    }\n  },\n  created: function created() {\n    var options = _Object$assign({}, this.options);\n\n    if (this.readOnly) {\n      options.readOnly = true;\n    }\n\n    this.editorOptions = options;\n  },\n  methods: {\n    autoformat: function autoformat() {\n      if (this.formatAfterMount && (this.language === 'javascript' || this.language === 'json')) {\n        this.editorContent = beautify.js_beautify(this.value);\n      } else if (this.formatAfterMount && this.language === 'html') {\n        this.editorContent = beautify.html_beautify(this.value);\n      } else if (this.formatAfterMount && this.language === 'css') {\n        this.editorContent = beautify.css_beautify(this.value);\n      } else {\n        this.editorContent = this.value;\n      }\n    },\n    editorInit: function editorInit(editor) {\n      this.editor = editor;\n      this.autoformat();\n    }\n  }\n};",{"version":3,"sources":["alternateSourceEditor.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"ace-editor\">\r\n        <v-toolbar v-if=\"toolbar.length > 0\" dense>\r\n            <v-btn v-if=\"toolbar.indexOf(toolbarButtons.AUTOFORMAT) > -1\" @click=\"autoformat\" title=\"Autoformat\" icon>\r\n                <v-icon>notes</v-icon>\r\n            </v-btn>\r\n        </v-toolbar>\r\n        <v-card>\r\n            <v-card-media>\r\n                <AceEditor v-model=\"editorContent\" @init=\"editorInit\" :lang=\"language\" theme=\"chrome\"\r\n                           :height=\"height\" :options=\"editorOptions\"></AceEditor>\r\n            </v-card-media>\r\n        </v-card>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import './ace.css';\r\n    import defaultToolbarButtons from './sourceEditor/defaultToolbarButtons';\r\n    import toolbar from './sourceEditor/toolbarButtons';\r\n    import AceEditor from './ace/index';\r\n    require('brace/ext/language_tools');\r\n    require('brace/mode/html');\r\n    require('brace/mode/css');\r\n    require('brace/mode/javascript');\r\n    require('brace/mode/json');\r\n    require('brace/theme/chrome');\r\n    require('brace/ext/searchbox');\r\n    require('brace/ext/statusbar');\r\n\r\n    const beautify = require('js-beautify');\r\n\r\n    let changeEventTimer = null;\r\n\r\n    export default {\r\n        components: {\r\n            AceEditor\r\n        },\r\n        computed  : {\r\n            toolbarButtons() {\r\n                return toolbar;\r\n            }\r\n        },\r\n        data() {\r\n            return {\r\n                editorContent: '',\r\n                editorOptions: {},\r\n                editor       : null\r\n            }\r\n        },\r\n        name      : 'AlternateSourceEditor',\r\n        props     : {\r\n            formatAfterMount: { //autoformat inital value after editor mount (300ms after)\r\n                type   : Boolean,\r\n                default: false\r\n            },\r\n            options         : { //extra editor options. goes directly to editor create function\r\n                type   : Object,\r\n                default: () => {\r\n                }\r\n            },\r\n            height          : { //editor height\r\n                type   : [String, Number],\r\n                default: () => 600\r\n            },\r\n            language        : { //lang of editor. Supported languages: https://code.visualstudio.com/docs/languages/overview\r\n                type   : String,\r\n                default: () => `html`\r\n            },\r\n            value           : { //initial editor value\r\n                type: String\r\n            },\r\n            toolbar         : {\r\n                type   : Array,\r\n                default: () => {\r\n                    return defaultToolbarButtons\r\n                }\r\n            },\r\n            readOnly        : {\r\n                type   : Boolean,\r\n                default: false\r\n            }\r\n        },\r\n        watch     : {\r\n            editorContent(newContentValue) {\r\n                if (changeEventTimer) {\r\n                    clearTimeout(changeEventTimer);\r\n                }\r\n                changeEventTimer = setTimeout(() => {\r\n                    this.$emit('input', newContentValue);\r\n                }, 500);\r\n            }\r\n        },\r\n        beforeDestroy() {\r\n            if (changeEventTimer) {\r\n                clearTimeout(changeEventTimer)\r\n            }\r\n        },\r\n        created() {\r\n            let options = Object.assign({}, this.options);\r\n            if (this.readOnly) {\r\n                options.readOnly = true;\r\n            }\r\n            this.editorOptions = options;\r\n        },\r\n        methods   : {\r\n            autoformat() {\r\n                if (this.formatAfterMount && (this.language === 'javascript' || this.language === 'json')) {\r\n                    this.editorContent = beautify.js_beautify(this.value);\r\n                } else if (this.formatAfterMount && (this.language === 'html')) {\r\n                    this.editorContent = beautify.html_beautify(this.value);\r\n                } else if (this.formatAfterMount && (this.language === 'css')) {\r\n                    this.editorContent = beautify.css_beautify(this.value);\r\n                } else {\r\n                    this.editorContent = this.value;\r\n                }\r\n            },\r\n            editorInit: function (editor) {\r\n\r\n\r\n                this.editor = editor;\r\n                this.autoformat();\r\n            },\r\n        }\r\n    }\r\n</script>\r\n<style scoped>\r\n    .ace-editor {\r\n        z-index: 1;\r\n    }\r\n</style>"],"sourceRoot":"src/components/editor"}]}