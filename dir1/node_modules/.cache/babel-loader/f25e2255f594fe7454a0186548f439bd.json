{"remainingRequest":"C:\\work\\bi-admin-vue-new\\node_modules\\babel-loader\\lib\\index.js!C:\\work\\bi-admin-vue-new\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\work\\bi-admin-vue-new\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\work\\bi-admin-vue-new\\src\\demo\\page\\uploadImage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\work\\bi-admin-vue-new\\src\\demo\\page\\uploadImage.vue","mtime":1552754725282},{"path":"C:\\work\\bi-admin-vue-new\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\bi-admin-vue-new\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\work\\bi-admin-vue-new\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\bi-admin-vue-new\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport FilePondPluginFileValidateType from 'filepond-plugin-file-validate-type';\nimport FilePondPluginImagePreview from 'filepond-plugin-image-preview';\nimport 'filepond-plugin-image-preview/dist/filepond-plugin-image-preview.min.css';\nimport 'filepond/dist/filepond.min.css';\nimport vueFilePond from 'vue-filepond';\nimport SimpleTableFilterTextFilter from './../../components/table/filter/SimpleTableFilterTextFilter';\nimport ImagePreviewTableCellWidget from './../../components/editor/imageBrowser/previewWidget';\nimport TableController from './../../table/controller';\nimport SimpleTableSortOrder from './../../table/sortOrder';\nimport ImagesResource from './../ImagesResource'; // Import FilePond plugins\n// Please note that you need to install these plugins separately\n\nvar FilePond = vueFilePond(FilePondPluginFileValidateType, FilePondPluginImagePreview);\nexport default {\n  data: function data() {\n    return {\n      previewDialog: false,\n      previewUrl: null,\n      myFiles: [],\n      uploadVisible: false\n    };\n  },\n  computed: {\n    tableController: function tableController() {\n      return new TableController({\n        identifier: 'tableDemo1',\n        rowsPerPage: 5,\n        sortBy: 'name',\n        sortOrder: SimpleTableSortOrder.DESCENDING,\n        columns: [{\n          name: 'id',\n          title: 'ID',\n          align: 'left',\n          sortable: false\n        }, {\n          name: 'code',\n          title: 'Preview',\n          sortable: false,\n          optional: true,\n          widget: ImagePreviewTableCellWidget\n        }]\n      }, ImagesResource);\n    }\n  },\n  components: {\n    FilePond: FilePond,\n    TableController: TableController,\n    SimpleTableSortOrder: SimpleTableSortOrder,\n    SimpleTableFilterTextFilter: SimpleTableFilterTextFilter\n  },\n  methods: {\n    enableUpload: function enableUpload() {\n      this.uploadVisible = true;\n    },\n    onFileUploaded: function onFileUploaded(err, info) {\n      var _this = this;\n\n      this.$broadcast('success', \"File \".concat(info.file.name, \" uploaded\"));\n      this.tableController.loadData(); //and clear uploaded files list after a while\n\n      setTimeout(function () {\n        _this.myFiles = [];\n        _this.uploadVisible = false;\n      }, 2000);\n    },\n    deleteAsset: function deleteAsset(value) {},\n    openPreview: function openPreview(url) {\n      this.previewUrl = url;\n      this.previewDialog = true;\n    },\n    closePreview: function closePreview() {\n      this.previewDialog = false;\n    }\n  }\n};",{"version":3,"sources":["uploadImage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA,OAAA,8BAAA,MAAA,oCAAA;AACA,OAAA,0BAAA,MAAA,+BAAA;AACA,OAAA,0EAAA;AACA,OAAA,gCAAA;AACA,OAAA,WAAA,MAAA,cAAA;AACA,OAAA,2BAAA,MAAA,6DAAA;AACA,OAAA,2BAAA,MAAA,sDAAA;AACA,OAAA,eAAA,MAAA,0BAAA;AACA,OAAA,oBAAA,MAAA,yBAAA;AACA,OAAA,cAAA,MAAA,qBAAA,C,CAEA;AACA;;AACA,IAAA,QAAA,GAAA,WAAA,CAAA,8BAAA,EAAA,0BAAA,CAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,aAAA,EAAA,KADA;AAEA,MAAA,UAAA,EAAA,IAFA;AAGA,MAAA,OAAA,EAAA,EAHA;AAIA,MAAA,aAAA,EAAA;AAJA,KAAA;AAMA,GARA;AASA,EAAA,QAAA,EAAA;AACA,IAAA,eADA,6BACA;AACA,aAAA,IAAA,eAAA,CAAA;AACA,QAAA,UAAA,EAAA,YADA;AAEA,QAAA,WAAA,EAAA,CAFA;AAGA,QAAA,MAAA,EAAA,MAHA;AAIA,QAAA,SAAA,EAAA,oBAAA,CAAA,UAJA;AAKA,QAAA,OAAA,EAAA,CACA;AACA,UAAA,IAAA,EAAA,IADA;AAEA,UAAA,KAAA,EAAA,IAFA;AAGA,UAAA,KAAA,EAAA,MAHA;AAIA,UAAA,QAAA,EAAA;AAJA,SADA,EAOA;AACA,UAAA,IAAA,EAAA,MADA;AAEA,UAAA,KAAA,EAAA,SAFA;AAGA,UAAA,QAAA,EAAA,KAHA;AAIA,UAAA,QAAA,EAAA,IAJA;AAKA,UAAA,MAAA,EAAA;AALA,SAPA;AALA,OAAA,EAqBA,cArBA,CAAA;AAuBA;AAzBA,GATA;AAoCA,EAAA,UAAA,EAAA;AACA,IAAA,QAAA,EAAA,QADA;AACA,IAAA,eAAA,EAAA,eADA;AACA,IAAA,oBAAA,EAAA,oBADA;AACA,IAAA,2BAAA,EAAA;AADA,GApCA;AAuCA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AACA,WAAA,aAAA,GAAA,IAAA;AACA,KAHA;AAIA,IAAA,cAJA,0BAIA,GAJA,EAIA,IAJA,EAIA;AAAA;;AACA,WAAA,UAAA,CAAA,SAAA,iBAAA,IAAA,CAAA,IAAA,CAAA,IAAA;AACA,WAAA,eAAA,CAAA,QAAA,GAFA,CAGA;;AACA,MAAA,UAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,aAAA,GAAA,KAAA;AACA,OAHA,EAGA,IAHA,CAAA;AAIA,KAZA;AAaA,IAAA,WAbA,uBAaA,KAbA,EAaA,CAEA,CAfA;AAgBA,IAAA,WAhBA,uBAgBA,GAhBA,EAgBA;AACA,WAAA,UAAA,GAAA,GAAA;AACA,WAAA,aAAA,GAAA,IAAA;AACA,KAnBA;AAoBA,IAAA,YApBA,0BAoBA;AACA,WAAA,aAAA,GAAA,KAAA;AACA;AAtBA;AAvCA,CAAA","sourcesContent":["<template>\r\n    <SimplePage>\r\n        <div slot=\"content\">\r\n            <SimpleTable :controller=\"tableController\">\r\n                <template slot=\"actions\" slot-scope=\"props\">\r\n                    <v-btn title=\"Details\" @click=\"() => {openPreview(props.item.url)}\" icon>\r\n                        <v-icon>info_outline</v-icon>\r\n                    </v-btn>\r\n                </template>\r\n            </SimpleTable>\r\n            <v-dialog v-model=\"previewDialog\"\r\n                      max-width=\"900\"\r\n            >\r\n                <v-card>\r\n                    <v-card-media :contain=\"true\" class=\"img-preview\" :src=\"previewUrl\" height=\"500px\">\r\n                    </v-card-media>\r\n                    <v-card-actions>\r\n                        <v-btn flat @click=\"closePreview\">Close</v-btn>\r\n                    </v-card-actions>\r\n                </v-card>\r\n            </v-dialog>\r\n            <v-btn v-if=\"!uploadVisible\" color=\"success\" @click=\"enableUpload\">Upload</v-btn>\r\n            <file-pond v-if=\"uploadVisible\"\r\n                    name=\"file\"\r\n                    ref=\"pond\"\r\n                    label-idle=\"Drop files here...\"\r\n                    allow-multiple=\"false\"\r\n                    accepted-file-types=\"image/jpeg, image/png\"\r\n                    server=\"/upload/image\"\r\n                    @processfile=\"onFileUploaded\"/>\r\n        </div>\r\n    </SimplePage>\r\n</template>\r\n<script>\r\n    import FilePondPluginFileValidateType from 'filepond-plugin-file-validate-type';\r\n    import FilePondPluginImagePreview from 'filepond-plugin-image-preview';\r\n    import 'filepond-plugin-image-preview/dist/filepond-plugin-image-preview.min.css';\r\n    import 'filepond/dist/filepond.min.css';\r\n    import vueFilePond from 'vue-filepond';\r\n    import SimpleTableFilterTextFilter from './../../components/table/filter/SimpleTableFilterTextFilter';\r\n    import ImagePreviewTableCellWidget from './../../components/editor/imageBrowser/previewWidget';\r\n    import TableController from './../../table/controller';\r\n    import SimpleTableSortOrder from './../../table/sortOrder';\r\n    import ImagesResource from './../ImagesResource'\r\n\r\n    // Import FilePond plugins\r\n    // Please note that you need to install these plugins separately\r\n    const FilePond = vueFilePond(FilePondPluginFileValidateType, FilePondPluginImagePreview);\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                previewDialog: false,\r\n                previewUrl   : null,\r\n                myFiles      : [],\r\n                uploadVisible: false,\r\n            }\r\n        },\r\n        computed  : {\r\n            tableController() {\r\n                return new TableController({\r\n                        identifier : 'tableDemo1',\r\n                        rowsPerPage: 5,\r\n                        sortBy     : 'name',\r\n                        sortOrder  : SimpleTableSortOrder.DESCENDING,\r\n                        columns    : [\r\n                            {\r\n                                name    : 'id',\r\n                                title   : 'ID',\r\n                                align   : 'left',\r\n                                sortable: false\r\n                            },\r\n                            {\r\n                                name    : 'code',\r\n                                title   : 'Preview',\r\n                                sortable: false,\r\n                                optional: true,\r\n                                widget  : ImagePreviewTableCellWidget\r\n                            }\r\n                        ],\r\n                    },\r\n                    ImagesResource\r\n                )\r\n            }\r\n        },\r\n        components: {\r\n            FilePond, TableController, SimpleTableSortOrder, SimpleTableFilterTextFilter\r\n        },\r\n        methods   : {\r\n            enableUpload() {\r\n                this.uploadVisible = true;\r\n            },\r\n            onFileUploaded(err, info) {\r\n                this.$broadcast('success', `File ${info.file.name} uploaded`);\r\n                this.tableController.loadData();\r\n                //and clear uploaded files list after a while\r\n                setTimeout(() => {\r\n                    this.myFiles = [];\r\n                    this.uploadVisible = false;\r\n                }, 2000)\r\n            },\r\n            deleteAsset(value) {\r\n\r\n            },\r\n            openPreview(url) {\r\n                this.previewUrl = url;\r\n                this.previewDialog = true;\r\n            },\r\n            closePreview() {\r\n                this.previewDialog = false;\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style scoped>\r\n    .img-preview {\r\n        background-size: contain;\r\n    }\r\n</style>"],"sourceRoot":"src/demo/page"}]}