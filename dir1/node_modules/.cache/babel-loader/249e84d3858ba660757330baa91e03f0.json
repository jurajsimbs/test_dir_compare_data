{"remainingRequest":"C:\\work\\bi-admin-vue-new\\node_modules\\thread-loader\\dist\\cjs.js!C:\\work\\bi-admin-vue-new\\node_modules\\babel-loader\\lib\\index.js!C:\\work\\bi-admin-vue-new\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\work\\bi-admin-vue-new\\src\\plugins\\adminApplication.js","dependencies":[{"path":"C:\\work\\bi-admin-vue-new\\src\\plugins\\adminApplication.js","mtime":1552754725289},{"path":"C:\\work\\bi-admin-vue-new\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\bi-admin-vue-new\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\work\\bi-admin-vue-new\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\work\\bi-admin-vue-new\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _Object$keys from \"C:\\\\work\\\\bi-admin-vue-new\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/object/keys\";\nimport _Promise from \"C:\\\\work\\\\bi-admin-vue-new\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/promise\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\work\\\\bi-admin-vue-new\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"C:\\\\work\\\\bi-admin-vue-new\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:\\\\work\\\\bi-admin-vue-new\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/objectSpread\";\nimport _Object$assign from \"C:\\\\work\\\\bi-admin-vue-new\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/object/assign\";\nimport _classCallCheck from \"C:\\\\work\\\\bi-admin-vue-new\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\work\\\\bi-admin-vue-new\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/createClass\";\nimport VeeValidate from 'vee-validate';\nimport VueI18n from 'vue-i18n';\nimport Vuetify from 'vuetify';\nimport Sidebar from '../components/application/Sidebar.vue';\nimport languages from '../const/languageCodes';\nimport events from './../app/events';\nimport RouterBuilder from './../app/router';\nimport Themes from './../app/theme';\nimport AdminApplication from './../components/App.vue';\nimport SinglePageApplication from './../components/application/SinglePage.vue';\nimport ContentEditor from './../components/editor/contentEditor.vue';\nimport Editor from './../components/editor/editor.vue';\nimport ContentPreview from './../components/editor/preview.vue';\nimport SourceEditor from './../components/editor/sourceEditor.vue';\nimport AlternativeSourceEditor from './../components/editor/alternateSourceEditor';\nimport HomePage from './../components/pages/home/Home.vue';\nimport SimpleHomeWidget from './../components/pages/home/SimpleHomeWidget.vue';\nimport PageWithHeader from './../components/pages/PageWithHeader.vue';\nimport PageWithHeaderAndActions from './../components/pages/PageWithHeaderAndActions.vue';\nimport SimplePage from './../components/pages/SimplePage.vue';\nimport SimpleTableCellBoolWidget from './../components/table/cellWidget/bool';\nimport SimpleTableCellDateWidget from './../components/table/cellWidget/date.vue';\nimport SimpleTableCellSizeWidget from './../components/table/cellWidget/size.vue';\nimport SimpleTableCellTextWidget from './../components/table/cellWidget/text.vue';\nimport SimpleTableFilterTextFilter from './../components/table/filter/SimpleTableFilterTextFilter';\nimport SimpleTableFilterDropdownFilter from './../components/table/filter/SimpleTableFilterDropdownFilter';\nimport SimpleTableIconRowActionWidget from './../components/table/rowActionWidget/icon.vue';\nimport SimpleTableLinkRowActionWidget from './../components/table/rowActionWidget/link.vue';\nimport SimpleTableMoveItemRowActionWidget from './../components/table/rowActionWidget/moveItem.vue';\nimport SimpleTablePublishRowActionWidget from './../components/table/rowActionWidget/publish.vue';\nimport SimpleTable from './../components/table/simpleTable.vue';\nimport SimpleTableFilter from './../components/table/simpleTableFilter';\nimport ApplicationError from './../error/applicationError';\nimport StoreBuilder from './../store/builder';\nimport SettingsStoreModule from './../store/modules/settings';\nimport LanguagesStoreModule from './../store/modules/languages';\nimport LanguagesResource from './../service/languages';\nimport UserStoreModule from './../store/modules/user';\nimport DateUtil from './../util/date';\nimport Asset from './../components/asset/Asset.vue';\nvar dateUtil = new DateUtil();\n\nvar _default =\n/*#__PURE__*/\nfunction () {\n  function _default() {\n    _classCallCheck(this, _default);\n  }\n\n  _createClass(_default, null, [{\n    key: \"install\",\n    value: function install(Vue, options) {\n      Vue.use(Vuetify, {\n        theme: options.theme || Themes.BLUE\n      });\n      Vue.use(VeeValidate);\n      var stores = {\n        user: UserStoreModule.build(Vue, options.userResource, options.authResource),\n        settings: SettingsStoreModule.build(Vue, options.settingsResource),\n        languages: LanguagesStoreModule.build(Vue, options.languagesResource || LanguagesResource.build(Vue, {\n          uri: 'lang'\n        }))\n      };\n\n      if (options.stores) {\n        stores = _Object$assign(stores, options.stores);\n      }\n\n      var store = StoreBuilder.build(_objectSpread({}, stores), options.appManager, Vue);\n\n      var translations = _Object$assign(_defineProperty({}, languages.ENGLISH, {}), options.translations);\n\n      var defaultLanguageCode = languages.ENGLISH;\n\n      if (options.defaultLanguageCode) {\n        defaultLanguageCode = options.defaultLanguageCode;\n      }\n\n      Vue.use(VueI18n);\n      var i18n = new VueI18n({\n        locale: localStorage.getItem('locale') || defaultLanguageCode,\n        fallbackLocale: languages.ENGLISH,\n        messages: translations,\n        silentTranslationWarn: options.silentTranslationWarn || true\n      });\n      var router = RouterBuilder.build(options.appManager, Vue);\n      options.appManager.setRouter(router);\n      dateUtil.appManager = options.appManager; //const dateUtil = new DateUtil(options.appManager);\n\n      Vue.getTranslations = function () {\n        return translations;\n      };\n\n      Vue.getI18n = function () {\n        return i18n;\n      };\n\n      Vue.getAppStore = function () {\n        return store;\n      };\n\n      Vue.getAppRouter = function () {\n        return router;\n      };\n\n      Vue.getValidator = function () {\n        return VeeValidate;\n      };\n\n      Vue.mixin({\n        created: function created() {\n          if (!options.appManager) {\n            throw new ApplicationError('you must define application manager in options.appManager');\n          }\n\n          if (!options.userResource) {\n            throw new ApplicationError('you must define user resource (vue-resource) in options.userResource');\n          }\n\n          if (!options.settingsResource) {\n            throw new ApplicationError('you must define settings resource (vue-resource) in options.settingsResource');\n          }\n\n          this.appManager = options.appManager;\n          this.userResource = options.userResource;\n          this.settingsResource = options.settingsResource;\n          this.adminPanelImageUrl = options.adminPanelImageUrl;\n          this.utils = {\n            date: dateUtil\n          };\n        },\n        methods: {\n          confirm: function () {\n            var _confirm = _asyncToGenerator(\n            /*#__PURE__*/\n            regeneratorRuntime.mark(function _callee(message, options) {\n              var _this = this;\n\n              return regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      return _context.abrupt(\"return\", new _Promise(function (resolve) {\n                        _this.appManager.$emit(events.CONFIRMATION.OPEN, {\n                          message: message\n                        });\n\n                        _this.appManager.$once(events.CONFIRMATION.CLOSE, function (evt) {\n                          return resolve(evt.result);\n                        });\n                      }));\n\n                    case 1:\n                    case \"end\":\n                      return _context.stop();\n                  }\n                }\n              }, _callee);\n            }));\n\n            function confirm(_x, _x2) {\n              return _confirm.apply(this, arguments);\n            }\n\n            return confirm;\n          }(),\n          getVue: function getVue() {\n            return Vue;\n          },\n          getActiveLanguageCodes: function getActiveLanguageCodes() {\n            return _Object$keys(translations);\n          },\n          goToPage: function goToPage(pageName, options) {\n            this.$router.push({\n              name: pageName,\n              params: options\n            });\n          },\n          $broadcast: function $broadcast(eventName, value) {\n            this.appManager.$emit(eventName, value);\n          },\n          $onBroadcast: function $onBroadcast(eventName, handler) {\n            this.appManager.$on(eventName, handler);\n          },\n          $offBroadcast: function $offBroadcast(eventName, handler) {\n            this.appManager.$off(eventName, handler);\n          }\n        }\n      });\n      Vue.component('Sidebar', Sidebar);\n      Vue.component('ContentEditor', ContentEditor);\n      Vue.component('Editor', Editor);\n      Vue.component('SourceEditor', SourceEditor);\n      Vue.component('ContentPreview', ContentPreview);\n      Vue.component('SinglePageApplication', SinglePageApplication);\n      Vue.component('HomePage', HomePage);\n      Vue.component('PageWithHeader', PageWithHeader);\n      Vue.component('AdminApplication', AdminApplication);\n      Vue.component('SimpleHomeWidget', SimpleHomeWidget);\n      Vue.component('SimplePage', SimplePage);\n      Vue.component('SimpleTable', SimpleTable);\n      Vue.component('SimpleTablePublishRowActionWidget', SimpleTablePublishRowActionWidget);\n      Vue.component('SimpleTableCellTextWidget', SimpleTableCellTextWidget);\n      Vue.component('SimpleTableCellDateWidget', SimpleTableCellDateWidget);\n      Vue.component('SimpleTableCellSizeWidget', SimpleTableCellSizeWidget);\n      Vue.component('SimpleTableCellBoolWidget', SimpleTableCellBoolWidget);\n      Vue.component('SimpleTableFilterDropdownFilter', SimpleTableFilterDropdownFilter);\n      Vue.component('SimpleTableMoveItemRowActionWidget', SimpleTableMoveItemRowActionWidget);\n      Vue.component('SimpleTableIconRowActionWidget', SimpleTableIconRowActionWidget);\n      Vue.component('SimpleTableLinkRowActionWidget', SimpleTableLinkRowActionWidget);\n      Vue.component('PageWithHeaderAndActions', PageWithHeaderAndActions);\n      Vue.component('SimpleTableFilterTextFilter', SimpleTableFilterTextFilter);\n      Vue.component('SimpleTableFilter', SimpleTableFilter);\n      Vue.component('Asset', Asset);\n      Vue.component('AlternativeSourceEditor', AlternativeSourceEditor);\n    }\n  }]);\n\n  return _default;\n}();\n\nexport { _default as default };",{"version":3,"sources":["C:\\work\\bi-admin-vue-new\\src\\plugins\\adminApplication.js"],"names":["VeeValidate","VueI18n","Vuetify","Sidebar","languages","events","RouterBuilder","Themes","AdminApplication","SinglePageApplication","ContentEditor","Editor","ContentPreview","SourceEditor","AlternativeSourceEditor","HomePage","SimpleHomeWidget","PageWithHeader","PageWithHeaderAndActions","SimplePage","SimpleTableCellBoolWidget","SimpleTableCellDateWidget","SimpleTableCellSizeWidget","SimpleTableCellTextWidget","SimpleTableFilterTextFilter","SimpleTableFilterDropdownFilter","SimpleTableIconRowActionWidget","SimpleTableLinkRowActionWidget","SimpleTableMoveItemRowActionWidget","SimpleTablePublishRowActionWidget","SimpleTable","SimpleTableFilter","ApplicationError","StoreBuilder","SettingsStoreModule","LanguagesStoreModule","LanguagesResource","UserStoreModule","DateUtil","Asset","dateUtil","Vue","options","use","theme","BLUE","stores","user","build","userResource","authResource","settings","settingsResource","languagesResource","uri","store","appManager","translations","ENGLISH","defaultLanguageCode","i18n","locale","localStorage","getItem","fallbackLocale","messages","silentTranslationWarn","router","setRouter","getTranslations","getI18n","getAppStore","getAppRouter","getValidator","mixin","created","adminPanelImageUrl","utils","date","methods","confirm","message","resolve","$emit","CONFIRMATION","OPEN","$once","CLOSE","evt","result","getVue","getActiveLanguageCodes","goToPage","pageName","$router","push","name","params","$broadcast","eventName","value","$onBroadcast","handler","$on","$offBroadcast","$off","component"],"mappings":"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","sourcesContent":["import VeeValidate from 'vee-validate';\r\nimport VueI18n from 'vue-i18n';\r\nimport Vuetify from 'vuetify';\r\nimport Sidebar from '../components/application/Sidebar.vue';\r\nimport languages from '../const/languageCodes';\r\n\r\nimport events from './../app/events';\r\nimport RouterBuilder from './../app/router';\r\nimport Themes from './../app/theme';\r\nimport AdminApplication from './../components/App.vue';\r\nimport SinglePageApplication from './../components/application/SinglePage.vue';\r\nimport ContentEditor from './../components/editor/contentEditor.vue';\r\nimport Editor from './../components/editor/editor.vue';\r\nimport ContentPreview from './../components/editor/preview.vue';\r\nimport SourceEditor from './../components/editor/sourceEditor.vue';\r\nimport AlternativeSourceEditor from './../components/editor/alternateSourceEditor';\r\nimport HomePage from './../components/pages/home/Home.vue';\r\nimport SimpleHomeWidget from './../components/pages/home/SimpleHomeWidget.vue';\r\nimport PageWithHeader from './../components/pages/PageWithHeader.vue';\r\nimport PageWithHeaderAndActions from './../components/pages/PageWithHeaderAndActions.vue';\r\nimport SimplePage from './../components/pages/SimplePage.vue';\r\nimport SimpleTableCellBoolWidget from './../components/table/cellWidget/bool';\r\nimport SimpleTableCellDateWidget from './../components/table/cellWidget/date.vue';\r\nimport SimpleTableCellSizeWidget from './../components/table/cellWidget/size.vue';\r\nimport SimpleTableCellTextWidget from './../components/table/cellWidget/text.vue';\r\nimport SimpleTableFilterTextFilter from './../components/table/filter/SimpleTableFilterTextFilter';\r\nimport SimpleTableFilterDropdownFilter from './../components/table/filter/SimpleTableFilterDropdownFilter';\r\nimport SimpleTableIconRowActionWidget from './../components/table/rowActionWidget/icon.vue';\r\nimport SimpleTableLinkRowActionWidget from './../components/table/rowActionWidget/link.vue';\r\nimport SimpleTableMoveItemRowActionWidget from './../components/table/rowActionWidget/moveItem.vue';\r\nimport SimpleTablePublishRowActionWidget from './../components/table/rowActionWidget/publish.vue';\r\nimport SimpleTable from './../components/table/simpleTable.vue';\r\nimport SimpleTableFilter from './../components/table/simpleTableFilter';\r\nimport ApplicationError from './../error/applicationError';\r\nimport StoreBuilder from './../store/builder';\r\nimport SettingsStoreModule from './../store/modules/settings';\r\nimport LanguagesStoreModule from './../store/modules/languages';\r\nimport LanguagesResource from './../service/languages';\r\nimport UserStoreModule from './../store/modules/user';\r\nimport DateUtil from './../util/date';\r\nimport Asset from './../components/asset/Asset.vue';\r\n\r\nconst dateUtil = new DateUtil();\r\n\r\nexport default class {\r\n    static install(Vue, options) {\r\n\r\n        Vue.use(Vuetify, {\r\n            theme: options.theme || Themes.BLUE\r\n        });\r\n        Vue.use(VeeValidate);\r\n\r\n        let stores = {\r\n            user     : UserStoreModule.build(Vue, options.userResource, options.authResource),\r\n            settings : SettingsStoreModule.build(Vue, options.settingsResource),\r\n            languages: LanguagesStoreModule.build(Vue, options.languagesResource || LanguagesResource.build(Vue, {uri: 'lang'})),\r\n        };\r\n        if (options.stores) {\r\n            stores = Object.assign(stores, options.stores);\r\n        }\r\n\r\n        let store = StoreBuilder.build({\r\n            ...stores,\r\n        }, options.appManager, Vue);\r\n\r\n        let translations        = Object.assign({\r\n            [languages.ENGLISH]: {}\r\n        }, options.translations);\r\n        let defaultLanguageCode = languages.ENGLISH;\r\n        if (options.defaultLanguageCode) {\r\n            defaultLanguageCode = options.defaultLanguageCode;\r\n        }\r\n\r\n        Vue.use(VueI18n);\r\n        let i18n = new VueI18n({\r\n            locale               : localStorage.getItem('locale') || defaultLanguageCode,\r\n            fallbackLocale       : languages.ENGLISH,\r\n            messages             : translations,\r\n            silentTranslationWarn: options.silentTranslationWarn || true\r\n        });\r\n\r\n        let router = RouterBuilder.build(options.appManager, Vue);\r\n        options.appManager.setRouter(router);\r\n\r\n        dateUtil.appManager = options.appManager;\r\n        //const dateUtil = new DateUtil(options.appManager);\r\n\r\n        Vue.getTranslations = function() {\r\n            return translations;\r\n        };\r\n\r\n        Vue.getI18n = function() {\r\n            return i18n;\r\n        };\r\n\r\n        Vue.getAppStore = function() {\r\n            return store;\r\n        };\r\n\r\n        Vue.getAppRouter = function() {\r\n            return router;\r\n        };\r\n\r\n        Vue.getValidator = function() {\r\n            return VeeValidate;\r\n        }\r\n\r\n        Vue.mixin({\r\n            created: function() {\r\n                if (!options.appManager) {\r\n                    throw new ApplicationError('you must define application manager in options.appManager');\r\n                }\r\n                if (!options.userResource) {\r\n                    throw new ApplicationError('you must define user resource (vue-resource) in options.userResource');\r\n                }\r\n                if (!options.settingsResource) {\r\n                    throw new ApplicationError('you must define settings resource (vue-resource) in options.settingsResource');\r\n                }\r\n                this.appManager         = options.appManager;\r\n                this.userResource       = options.userResource;\r\n                this.settingsResource   = options.settingsResource;\r\n                this.adminPanelImageUrl = options.adminPanelImageUrl;\r\n                this.utils              = {\r\n                    date: dateUtil\r\n                };\r\n            },\r\n            methods: {\r\n                async confirm(message, options) {\r\n                    return new Promise((resolve) => {\r\n                        this.appManager.$emit(events.CONFIRMATION.OPEN, {message: message});\r\n                        this.appManager.$once(events.CONFIRMATION.CLOSE, (evt) => {\r\n                            return resolve(evt.result);\r\n                        });\r\n                    });\r\n                },\r\n                getVue() {\r\n                    return Vue;\r\n                },\r\n                getActiveLanguageCodes() {\r\n                    return Object.keys(translations);\r\n                },\r\n                goToPage(pageName, options) {\r\n                    this.$router.push({name: pageName, params: options});\r\n                },\r\n                $broadcast(eventName, value) {\r\n                    this.appManager.$emit(eventName, value);\r\n                },\r\n                $onBroadcast(eventName, handler) {\r\n                    this.appManager.$on(eventName, handler);\r\n                },\r\n                $offBroadcast(eventName, handler) {\r\n                    this.appManager.$off(eventName, handler);\r\n                }\r\n            }\r\n        });\r\n        Vue.component('Sidebar', Sidebar);\r\n        Vue.component('ContentEditor', ContentEditor);\r\n        Vue.component('Editor', Editor);\r\n        Vue.component('SourceEditor', SourceEditor);\r\n        Vue.component('ContentPreview', ContentPreview);\r\n        Vue.component('SinglePageApplication', SinglePageApplication);\r\n        Vue.component('HomePage', HomePage);\r\n        Vue.component('PageWithHeader', PageWithHeader);\r\n        Vue.component('AdminApplication', AdminApplication);\r\n        Vue.component('SimpleHomeWidget', SimpleHomeWidget);\r\n        Vue.component('SimplePage', SimplePage);\r\n        Vue.component('SimpleTable', SimpleTable);\r\n        Vue.component('SimpleTablePublishRowActionWidget', SimpleTablePublishRowActionWidget);\r\n        Vue.component('SimpleTableCellTextWidget', SimpleTableCellTextWidget);\r\n        Vue.component('SimpleTableCellDateWidget', SimpleTableCellDateWidget);\r\n        Vue.component('SimpleTableCellSizeWidget', SimpleTableCellSizeWidget);\r\n        Vue.component('SimpleTableCellBoolWidget', SimpleTableCellBoolWidget);\r\n        Vue.component('SimpleTableFilterDropdownFilter', SimpleTableFilterDropdownFilter);\r\n        Vue.component('SimpleTableMoveItemRowActionWidget', SimpleTableMoveItemRowActionWidget);\r\n        Vue.component('SimpleTableIconRowActionWidget', SimpleTableIconRowActionWidget);\r\n        Vue.component('SimpleTableLinkRowActionWidget', SimpleTableLinkRowActionWidget);\r\n        Vue.component('PageWithHeaderAndActions', PageWithHeaderAndActions);\r\n        Vue.component('SimpleTableFilterTextFilter', SimpleTableFilterTextFilter);\r\n        Vue.component('SimpleTableFilter', SimpleTableFilter);\r\n        Vue.component('Asset', Asset);\r\n        Vue.component('AlternativeSourceEditor', AlternativeSourceEditor);\r\n    }\r\n}"]}]}